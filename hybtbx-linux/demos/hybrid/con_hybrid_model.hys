/* Closed-loop explicit MPC system from controller <con> 

   Created on 15-Dec-2015 15:48:11                                        */

SYSTEM con {

    INTERFACE { 

        STATE { 

            REAL x1 [-100.0000000000000000,100.0000000000000000];
            REAL x2 [-100.0000000000000000,100.0000000000000000];
            REAL uold1 [-2.0000000000000000,2.0000000000000000];
            REAL uold2 [-2.0000000000000000,2.0000000000000000];
        }

        INPUT { 
            REAL ref1 [-10.0000000000000000,10.0000000000000000];
            REAL ref2 [-10.0000000000000000,10.0000000000000000];
            BOOL d1; 
            BOOL d2; 
            BOOL d3; 
            BOOL d4; 
            BOOL d5; 
            BOOL d6; 
            BOOL d7; 
            BOOL d8; 
            BOOL d9; 
        }

        OUTPUT{ 
            REAL y1;
            REAL y2;
        }

    }


    IMPLEMENTATION {
        AUX { 
            REAL z1_1; 
            REAL z1_2; 
            REAL z2_1; 
            REAL z2_2; 
            REAL z3_1; 
            REAL z3_2; 
            REAL z4_1; 
            REAL z4_2; 
            REAL z5_1; 
            REAL z5_2; 
            REAL z6_1; 
            REAL z6_2; 
            REAL z7_1; 
            REAL z7_2; 
            REAL z8_1; 
            REAL z8_2; 
            REAL z9_1; 
            REAL z9_2; 
        }
        DA  { 
            z1_1 = {IF d1 THEN -0.0622506695156257*x1+0.0083359898800827*x2+-0.8535396021929973*uold1+0.1142975254962366*uold2+2.5582920690673063*ref1+3.1740632999568561*ref2+0.0000000000000000+uold1
                  ELSE 0
                  };
            z1_2 = {IF d1 THEN 0.0083359898800796*x1+-0.0664186644556725*x2+0.1142975254962103*uold1+-0.9106883649410805*uold2+1.8949172654232171*ref1+2.5582920690672921*ref2+0.0000000000000000+uold2
                  ELSE 0
                  };
            z2_1 = {IF d2 THEN 0.0000000000000080*x1+0.0000000000000017*x2+-1.0000000000000111*uold1+0.0000000000000002*uold2+-0.0000000000001847*ref1+-0.0000000000000284*ref2+1.0000000000001621+uold1
                  ELSE 0
                  };
            z2_2 = {IF d2 THEN 0.0000000000000025*x1+-0.0000000000000041*x2+-0.0000000000000087*uold1+-0.9999999999999998*uold2+-0.0000000000001563*ref1+-0.0000000000000213*ref2+-0.9999999999999297+uold2
                  ELSE 0
                  };
            z3_1 = {IF d3 THEN -0.0729187422166406*x1+0.0933359900373120*x2+-0.9998130896948837*uold1+-0.0000000000000354*uold2+0.1332513191677651*ref1+-0.0999384893758197*ref2+-1.2797607548094847+uold1
                  ELSE 0
                  };
            z3_2 = {IF d3 THEN 0.0000000000000000*x1+0.0000000000000000*x2+0.0000000000000000*uold1+-1.0000000000000000*uold2+-0.0000000000000002*ref1+0.0000000000000000*ref2+-1.0000000000000000+uold2
                  ELSE 0
                  };
            z4_1 = {IF d4 THEN 0.0000000000000000*x1+0.0000000000000000*x2+-1.0000000000000000*uold1+0.0000000000000000*uold2+0.0000000000000000*ref1+0.0000000000000000*ref2+-1.0000000000000000+uold1
                  ELSE 0
                  };
            z4_2 = {IF d4 THEN 0.0569163405595550*x1+-0.0729240613419393*x2+-0.0000000000000205*uold1+-0.9998860219881214*uold2+-0.1015709141073506*ref1+0.0812567312858770*ref2+-0.7803988464297749+uold2
                  ELSE 0
                  };
            z5_1 = {IF d5 THEN -0.0729187422166406*x1+0.0933359900373120*x2+-0.9998130896948837*uold1+-0.0000000000000354*uold2+0.1332513191677651*ref1+-0.0999384893758197*ref2+1.2797607548094847+uold1
                  ELSE 0
                  };
            z5_2 = {IF d5 THEN 0.0000000000000000*x1+0.0000000000000000*x2+0.0000000000000000*uold1+-1.0000000000000000*uold2+-0.0000000000000002*ref1+0.0000000000000000*ref2+1.0000000000000000+uold2
                  ELSE 0
                  };
            z6_1 = {IF d6 THEN 0.0000000000000000*x1+0.0000000000000000*x2+-1.0000000000000000*uold1+0.0000000000000000*uold2+0.0000000000000000*ref1+0.0000000000000000*ref2+1.0000000000000000+uold1
                  ELSE 0
                  };
            z6_2 = {IF d6 THEN 0.0569163405595550*x1+-0.0729240613419393*x2+-0.0000000000000205*uold1+-0.9998860219881214*uold2+-0.1015709141073506*ref1+0.0812567312858770*ref2+0.7803988464297749+uold2
                  ELSE 0
                  };
            z7_1 = {IF d7 THEN -0.0000000000000026*x1+0.0000000000000054*x2+-1.0000000000000009*uold1+-0.0000000000000037*uold2+0.0000000000000711*ref1+0.0000000000000853*ref2+-0.9999999999999455+uold1
                  ELSE 0
                  };
            z7_2 = {IF d7 THEN -0.0000000000000072*x1+-0.0000000000000007*x2+-0.0000000000000007*uold1+-1.0000000000000029*uold2+0.0000000000000568*ref1+0.0000000000000639*ref2+1.0000000000001388+uold2
                  ELSE 0
                  };
            z8_1 = {IF d8 THEN 0.0000000000000080*x1+0.0000000000000017*x2+-1.0000000000000111*uold1+0.0000000000000002*uold2+-0.0000000000001847*ref1+-0.0000000000000284*ref2+-0.9999999999999946+uold1
                  ELSE 0
                  };
            z8_2 = {IF d8 THEN 0.0000000000000025*x1+-0.0000000000000041*x2+-0.0000000000000087*uold1+-0.9999999999999998*uold2+-0.0000000000001563*ref1+-0.0000000000000213*ref2+-1.0000000000000033+uold2
                  ELSE 0
                  };
            z9_1 = {IF d9 THEN 0.0000000000000080*x1+0.0000000000000017*x2+-1.0000000000000111*uold1+0.0000000000000002*uold2+-0.0000000000001847*ref1+-0.0000000000000284*ref2+0.9999999999999946+uold1
                  ELSE 0
                  };
            z9_2 = {IF d9 THEN 0.0000000000000025*x1+-0.0000000000000041*x2+-0.0000000000000087*uold1+-0.9999999999999998*uold2+-0.0000000000001563*ref1+-0.0000000000000213*ref2+1.0000000000000033+uold2
                  ELSE 0
                  };
        }

        CONTINUOUS { 
            x1 = 0.9900498337491681*x1+0.0000000000000000*x2+1.0000000000000000*(z1_1+z2_1+z3_1+z4_1+z5_1+z6_1+z7_1+z8_1+z9_1)+0.0000000000000000*(z1_2+z2_2+z3_2+z4_2+z5_2+z6_2+z7_2+z8_2+z9_2);
            x2 = 0.0000000000000000*x1+0.9900498337491681*x2+0.0000000000000000*(z1_1+z2_1+z3_1+z4_1+z5_1+z6_1+z7_1+z8_1+z9_1)+1.0000000000000000*(z1_2+z2_2+z3_2+z4_2+z5_2+z6_2+z7_2+z8_2+z9_2);
            uold1 = z1_1+z2_1+z3_1+z4_1+z5_1+z6_1+z7_1+z8_1+z9_1;
            uold2 = z1_2+z2_2+z3_2+z4_2+z5_2+z6_2+z7_2+z8_2+z9_2;
        }

    	OUTPUT { 
            y1 = 0.3980066500332780*x1+-0.4975083125415974*x2+0.0000000000000000*(z1_1+z2_1+z3_1+z4_1+z5_1+z6_1+z7_1+z8_1+z9_1)+0.0000000000000000*(z1_2+z2_2+z3_2+z4_2+z5_2+z6_2+z7_2+z8_2+z9_2);
            y2 = -0.2985049875249584*x1+0.3980066500332780*x2+0.0000000000000000*(z1_1+z2_1+z3_1+z4_1+z5_1+z6_1+z7_1+z8_1+z9_1)+0.0000000000000000*(z1_2+z2_2+z3_2+z4_2+z5_2+z6_2+z7_2+z8_2+z9_2);
        }

        MUST { 
            /* xor(d1,d2,...,d_nreg)=TRUE; */
            -((REAL d1)+(REAL d2)+(REAL d3)+(REAL d4)+(REAL d5)+(REAL d6)+(REAL d7)+(REAL d8)+(REAL d9))<=-0.9999;
            ((REAL d1)+(REAL d2)+(REAL d3)+(REAL d4)+(REAL d5)+(REAL d6)+(REAL d7)+(REAL d8)+(REAL d9))<=1.0001;

            -0.0622506695156257*x1+0.0083359898800827*x2+0.1464603978070027*uold1+0.1142975254962366*uold2+2.5582920690673063*ref1+3.1740632999568561*ref2 <= 1.0000009999999999 + 63.9047344764189447*(1-(REAL d1));
            0.0083359898800796*x1+-0.0664186644556725*x2+0.1142975254962103*uold1+0.0893116350589195*uold2+1.8949172654232171*ref1+2.5582920690672921*ref2 <= 1.0000009999999999 + 51.4157760995905591*(1-(REAL d1));
            0.0622506695156257*x1+-0.0083359898800827*x2+-0.1464603978070027*uold1+-0.1142975254962366*uold2+-2.5582920690673063*ref1+-3.1740632999568561*ref2 <= 1.0000009999999999 + 63.9047344764189447*(1-(REAL d1));
            -0.0083359898800796*x1+0.0664186644556725*x2+-0.1142975254962103*uold1+-0.0893116350589195*uold2+-1.8949172654232171*ref1+-2.5582920690672921*ref2 <= 1.0000009999999999 + 51.4157760995905591*(1-(REAL d1));
            0.0319852607615988*x1+-0.0409411337748517*x2+-0.0000819868070463*uold1+0.0000000000000155*uold2+-0.0584496942877241*ref1+0.0438372707157913*ref2 <= -0.9999990000000000 + 9.3166720772942941*(1-(REAL d2));
            0.0319683090525975*x1+-0.0409593959736458*x2+-0.0000000000000115*uold1+0.0000640182463088*uold2+-0.0570495281498470*ref1+0.0456396225198758*ref2 <= -0.9999990000000000 + 9.3207890458141716*(1-(REAL d2));
            -0.0319852607615988*x1+0.0409411337748517*x2+0.0000819868070463*uold1+-0.0000000000000155*uold2+0.0584496942877239*ref1+-0.0438372707157911*ref2 <= 1.0000009999999999 + 7.3166720772942924*(1-(REAL d3));
            0.2606467882398222*x1+-0.3336278889470157*x2+-0.0006681076666511*uold1+0.0000000000001265*uold2+-0.4763045454982005*ref1+0.3572284091236357*ref2 <= -0.9999990000000000 + 68.7651324802354509*(1-(REAL d3));
            0.0083359898800796*x1+-0.0664186644556725*x2+0.1142975254962103*uold1+0.0893116350589195*uold2+1.8949172654232171*ref1+2.5582920690672921*ref2 <= -0.9999990000000000 + 53.4157760995905591*(1-(REAL d3));
            0.0319683090525975*x1+-0.0409593959736458*x2+-0.0000000000000115*uold1+0.0000640182463088*uold2+-0.0570495281498470*ref1+0.0456396225198756*ref2 <= 1.0000009999999999 + 7.3207890458141680*(1-(REAL d4));
            -0.2591805171977571*x1+0.3320750376596692*x2+0.0000000000000935*uold1+-0.0005190228285489*uold2+0.4625245016068178*ref1+-0.3700196012854381*ref2 <= 1.0000009999999999 + 66.4530335603222966*(1-(REAL d4));
            -0.0622506695156257*x1+0.0083359898800827*x2+0.1464603978070027*uold1+0.1142975254962366*uold2+2.5582920690673063*ref1+3.1740632999568561*ref2 <= -0.9999990000000000 + 65.9047344764189518*(1-(REAL d4));
            -0.2606467882398222*x1+0.3336278889470157*x2+0.0006681076666511*uold1+-0.0000000000001265*uold2+0.4763045454982005*ref1+-0.3572284091236357*ref2 <= -0.9999990000000000 + 68.7651324802354509*(1-(REAL d5));
            0.0319852607615988*x1+-0.0409411337748517*x2+-0.0000819868070463*uold1+0.0000000000000155*uold2+-0.0584496942877239*ref1+0.0438372707157911*ref2 <= 1.0000009999999999 + 7.3166720772942924*(1-(REAL d5));
            -0.0083359898800796*x1+0.0664186644556725*x2+-0.1142975254962103*uold1+-0.0893116350589195*uold2+-1.8949172654232171*ref1+-2.5582920690672921*ref2 <= -0.9999990000000000 + 53.4157760995905591*(1-(REAL d5));
            0.2591805171977571*x1+-0.3320750376596692*x2+-0.0000000000000935*uold1+0.0005190228285489*uold2+-0.4625245016068178*ref1+0.3700196012854381*ref2 <= 1.0000009999999999 + 66.4530335603222966*(1-(REAL d6));
            -0.0319683090525975*x1+0.0409593959736458*x2+0.0000000000000115*uold1+-0.0000640182463088*uold2+0.0570495281498470*ref1+-0.0456396225198756*ref2 <= 1.0000009999999999 + 7.3207890458141680*(1-(REAL d6));
            0.0622506695156257*x1+-0.0083359898800827*x2+-0.1464603978070027*uold1+-0.1142975254962366*uold2+-2.5582920690673063*ref1+-3.1740632999568561*ref2 <= -0.9999990000000000 + 65.9047344764189518*(1-(REAL d6));
            -0.0319683090525975*x1+0.0409593959736458*x2+0.0000000000000115*uold1+-0.0000640182463088*uold2+0.0570495281498470*ref1+-0.0456396225198757*ref2 <= -0.9999990000000000 + 9.3207890458141680*(1-(REAL d7));
            -0.0319852607615988*x1+0.0409411337748517*x2+0.0000819868070463*uold1+-0.0000000000000155*uold2+0.0584496942877239*ref1+-0.0438372707157913*ref2 <= -0.9999990000000000 + 9.3166720772942924*(1-(REAL d7));
            -0.2606467882398222*x1+0.3336278889470157*x2+0.0006681076666509*uold1+-0.0000000000001265*uold2+0.4763045454982016*ref1+-0.3572284091236371*ref2 <= 1.0000009999999999 + 66.7651324802354935*(1-(REAL d8));
            0.2591805171977571*x1+-0.3320750376596693*x2+-0.0000000000000934*uold1+0.0005190228285490*uold2+-0.4625245016068173*ref1+0.3700196012854395*ref2 <= -0.9999990000000000 + 68.4530335603223108*(1-(REAL d8));
            0.2606467882398222*x1+-0.3336278889470157*x2+-0.0006681076666509*uold1+0.0000000000001265*uold2+-0.4763045454982016*ref1+0.3572284091236371*ref2 <= 1.0000009999999999 + 66.7651324802354935*(1-(REAL d9));
            -0.2591805171977571*x1+0.3320750376596693*x2+0.0000000000000934*uold1+-0.0005190228285490*uold2+0.4625245016068173*ref1+-0.3700196012854395*ref2 <= -0.9999990000000000 + 68.4530335603223108*(1-(REAL d9));
        }

     }
}
